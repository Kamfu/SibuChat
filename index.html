<!doctype html>
<html lang="en" style="font-family:Roboto, sans-serif;">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="description" content="When social influencer meet social enterprise.">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
<title>Socially - Social mouth for goods.</title>
<link rel="manifest" href="manifest.webmanifest">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
<link rel="stylesheet" href="css/spectre.min.css">
<link rel="stylesheet" href="css/spectre-exp.min.css">
<link rel="stylesheet" href="svg-with-js/css/fa-svg-with-js.css">
<script defer src="svg-with-js/js/fontawesome-all.min.js"></script>
<script defer src="svg-with-js/js/fa-regular.min.js"></script>
<style>
html
{
    background-color: #282828;
    min-width: 320px;
    max-width: 100%;
    margin: 0 auto;
}
body
{
    background-color: #282828;
    color: #FFF;
    font-size: 0.7rem;
}
#ytplayer
{
    background-color: #FFF;
    background-image: url('Socially.png');
    background-position: center center;
    background-repeat: no-repeat;
    background-size: contain;

}
.p-0
{
    padding: 0px;
}
.timeline-item .title
{
    font-weight: bold;
}
.sticky_column
{
    z-index: 9999;
    position: -webkit-sticky; /* Safari */
    position: sticky;
    top: 0;
    background-color: #282828;
}
.bg_white
{
    background: #282828;
}
.video-responsive
{
    max-height: 320px;
}
.tab
{
    border: 0px;
    margin-top: 0px;
    margin-bottom: 0px;
    background-color: #131313;
}
.tab-content > .tab-pane
{
    display: none;
}
.tab-content > .tab-pane.active
{
    display: block;
}
.text-theme-color-default
{
    color: #FFF;
}
</style>
</head>
<body>
<div class="row columns">
    <div class="column col-xs-12 col-md-12 sticky_column">
            <!-- 100% width container with max-width set to grid-lg (960px) -->
            <div class="container-fluid">
                <div class="columns">
                    <div class="column col-12 p-0">
                            <ul class="tab tab-block" id="a_tab">
                              <!--li class="tab-item">
                                <a href="javascript:void(0);" id="a_tar_home">
                                        <span class="fa-layers fa-lg fa-fw" style="color:#5755d9;">
                                        <i class="fas fa-video"></i>
                                        <span class="fa-layers-text fa-inverse" data-fa-transform="shrink-6 top-2 left-3 rotate--15" style="font-weight:900">S</span>
                                        </span>
                                </a>
                              </li-->
                              <li class="tab-item active" id="a_tar_funny">
                                <a href="javascript:void(0);">
                                        <span class="fa-lg fa-fw text-theme-color-default">
                                            <i class="fas fa-star" data-fa-transform="shrink-8"></i>
                                        </span>
                                        Funny
                                </a>
                              </li>
                              <li class="tab-item" id="a_tar_drama">
                                <a href="javascript:void(0);">
                                        <span class="fa-lg fa-fw text-theme-color-default">
                                            <i class="fas fa-fire" data-fa-transform="shrink-8"></i>
                                        </span>
                                        Show
                                </a>
                              </li>
                              <li class="tab-item" id="a_tar_music">
                                <a href="javascript:void(0);">
                                        <span class="fa-lg fa-fw text-theme-color-default">
                                            <i class="fas fa-music" data-fa-transform="shrink-8"></i>
                                        </span>
                                        Music
                                </a>
                              </li>
                              <li class="tab-item" id="a_tar_vlog">
                                <a href="javascript:void(0);">
                                        <span class="fa-lg fa-fw text-theme-color-default">
                                            <i class="fas fa-play" data-fa-transform="shrink-8"></i>
                                        </span>
                                        Vlog
                                </a>
                              </li>
                            </ul>
                    </div>
                    <div class="column col-12 video-responsive">
                        <iframe id="ytplayer" type="text/html" width="720" height="405" frameborder="0" allowfullscreen src="javascript:;" ></iframe>
                    </div>
                </div>
            </div>
    </div>
    <div class="column col-xs-12 col-md-12">
            <div class="container-fluid">
                <div class="columns">
                    <div class="column col-12 p-0">
                            <ul class="tab tab-block" id="b_tab">
                              <li class="tab-item">
                                <a data-href="tab_about" href="javascript:void(0);">
                                        <span class="fa-layers fa-lg fa-fw" style="color:#5755d9;">
                                        <i class="fas fa-video"></i>
                                        <span class="fa-layers-text fa-inverse" data-fa-transform="shrink-6 top-2 left-3 rotate--15" style="font-weight:900">S</span>
                                        </span>
                                </a>
                              </li>
                              <li class="tab-item active">
                                <a data-href="tab_chatroom" href="javascript:void(0);">
                                    <span class="fa-lg fa-fw text-theme-color-default">
                                        <i class="fas fa-comment-alt" data-fa-transform="shrink-8"></i>
                                    </span>
                                    Chat
                                </a>
                              </li>
                              <li class="tab-item">
                                <a data-href="tab_news" href="javascript:void(0);">
                                    <span class="fa-lg fa-fw text-theme-color-default">
                                        <i class="fas fa-newspaper" data-fa-transform="shrink-8"></i>
                                    </span>
                                    News
                                </a>
                              </li>
                              <li class="tab-item">
                                <a data-href="tab_events" href="javascript:void(0);">
                                    <span class="fa-lg fa-fw text-theme-color-default">
                                        <i class="fas fa-calendar" data-fa-transform="shrink-8"></i>
                                    </span>
                                    Event
                                </a>
                              </li>
                            </ul>
                            <div class="tab-content">
                                <div class="tab-pane text-center" role="tabpanel" id="tab_about">
                                        <h3 class="text-center">About SibuChat</h3>
                                        <button class="btn btn-primary mb-1 br-1">Facebook Group</button>
                                        <button class="btn btn-primary mb-1 br-1">Facebook Page</button>
                                        <button class="btn btn-primary mb-1 br-1">Suggest Youtube Channel</button>
                                        <button class="btn btn-primary mb-1 br-1">Email</button>
                                        <button class="btn btn-primary mb-1 br-1">Donate</button>
                                        <h3 class="text-center">Contributors</h3>
                                        <div class="timeline" id="divContributorsList"></div>
                                        <p class="text-center">Powered By <a href="#">Sibu Chat</a></p>
                                </div>
                                <div class="tab-pane active" role="tabpanel" id="tab_chatroom">
                                        <div id="divWarningMessages" class="card-subtitle text-gray text-center" style="padding:5px;margin-bottom:10px;">
                                            Reminder: Please do not leave any personal and sensitive info at public chat room.
                                        </div>
                                        <!--div id="tlkio" data-channel="SibuChat" data-theme="theme--day" style="width:100%;height:400px;"></div>
                                        <script async src="http://tlk.io/embed.js" type="text/javascript"></script>
                                        <p class="text-center">Powered By <a href="#">tlk.io</a></p-->
                                        
                                        <iframe src="https://discordapp.com/widget?id=414840477456793602&theme=dark" width="100%" height="300" allowtransparency="true" frameborder="0"></iframe>
                                        
                                </div>
                                <div class="tab-pane" role="tabpanel" id="tab_news">
                                        <div class="timeline" id="divNewsList"></div>
                                        <p class="text-center">Powered By <a href="#">LocalARM</a></p>
                                </div>
                                <div class="tab-pane" role="tabpanel" id="tab_events">
                                        <div class="timeline" id="divEventList"></div>
                                        <p class="text-center">Powered By <a href="#">Mingles.Asia</a></p>
                                </div>
                            </div>
                    </div>
                </div>
            </div><!-- end of container grid-lg -->
    </div>
</div>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.2.1.min.js"></script>
<script type="text/javascript">
$(document).ready(function(){
    // Initial
    setTimeout(function(){
        $('#a_tar_funny').click();
    }, 2000);
    setTimeout(function(){
        renderNewsList();
    }, 500);
    setTimeout(function(){
        $('#divWarningMessages').fadeOut();
    },15000);
    
    $('#a_tar_funny').click(function(){
        $('#ytplayer').attr('src','https://www.youtube.com/embed/?autoplay=1&enablejsapi=0&modestbranding=1&playsinline=1&rel=0&color=white&listType=playlist&list=PLakjSYqAw2l3L_crbipge1tMN5Z4RPt-X');
    });
    $('#a_tar_drama').click(function(){
        $('#ytplayer').attr('src','https://www.youtube.com/embed/?autoplay=1&enablejsapi=0&modestbranding=1&playsinline=1&rel=0&color=white&listType=playlist&list=PLakjSYqAw2l0wxQtvccKu3DB5U1q2HwDY');
    });
    $('#a_tar_music').click(function(){
        $('#ytplayer').attr('src','https://www.youtube.com/embed/?autoplay=1&enablejsapi=0&modestbranding=1&playsinline=1&rel=0&color=white&listType=playlist&list=PLakjSYqAw2l2Lah82L8HjPaFk1RFPuXRP');
    });
    $('#a_tar_vlog').click(function(){
        $('#ytplayer').attr('src','https://www.youtube.com/embed/?autoplay=1&enablejsapi=0&modestbranding=1&playsinline=1&rel=0&color=white&listType=playlist&list=PLakjSYqAw2l2dmH9ffFG4QtYT9mDpRvpH');
    });
    
    $('ul#a_tab > li').click(function(){
        $('ul#a_tab li').removeClass('active');
        $(this).addClass('active');
    });
    $('ul#b_tab > li').click(function(){
        $('ul#b_tab li').removeClass('active');
        $(this).addClass('active');
        var href = $(this).children('a').data('href');
        $('.tab-content > .tab-pane').removeClass('active');
        $('.tab-content > .tab-pane[id="'+href+'"]').addClass('active');
    });
    // $(".sticky_column").stick_in_parent();
    $.fn.isOnScreen = function(){
        
        var win = $(window);
        
        var viewport = {
            top : win.scrollTop(),
            left : win.scrollLeft()
        };
        viewport.right = viewport.left + win.width();
        viewport.bottom = viewport.top + win.height();
        
        var bounds = this.offset();
        bounds.right = bounds.left + this.outerWidth();
        bounds.bottom = bounds.top + this.outerHeight();
        
        return (!(viewport.right < bounds.left || viewport.left > bounds.right || viewport.bottom < bounds.top || viewport.top > bounds.bottom));
        
    };
    $(document).scroll(function(){
        // console.log( $('.sticky_column').isOnScreen() );
        if( $('.sticky_column').isOnScreen() )
        {
            // $('.sticky_column').css({'position':'relative'});
        }else{
            // $('.sticky_column').css({'position':'fixed'});
        }
    });
});
function renderNewsList()
{
    // https://docs.google.com/spreadsheets/d/1mCJDCqYr8aZnuEVPDNx2LmtVrw6d_dUn23kzUNZX3RE/
    // ID of the Google Spreadsheet
    var spreadsheetID = "1mCJDCqYr8aZnuEVPDNx2LmtVrw6d_dUn23kzUNZX3RE";
    var sheetID = "default";
    var url = "https://spreadsheets.google.com/feeds/list/" + spreadsheetID + "/" + sheetID + "/public/values?alt=json";
    jQuery.getJSON(url, function(data) {
        console.log('url',url);
        var entry = data.feed.entry;
        jQuery(entry).each(function()
        {
            console.log( this );
            var constructedhtml = '',
                postType = this.gsx$type.$t,
                postTitle = this.gsx$title.$t,
                postSummary = this.gsx$summary.$t,
                postFullLink = this.gsx$redirectlink.$t,
                timestamp = this.gsx$timestamp.$t;
            console.log('postType',postType);
            if( postTitle != '' && postSummary != '' )
            {
                constructedhtml += '<div class="timeline-item" id="timeline-example-1">';
                constructedhtml += '<div class="timeline-left"><a class="timeline-icon" href="#timeline-example-1"></a></div>';
                constructedhtml += '<div class="timeline-content"><p class="title">'+postTitle+'</p>';
                constructedhtml += '<p>'+postSummary+'</p>';
                if( postFullLink != '' )
                {
                    constructedhtml += '<a href="'+postFullLink+'">Read more</a>';
                }
                constructedhtml += '</div></div>';
                if( postType == 'News' )
                {
                    console.log('News');
                    jQuery('#divNewsList').append(constructedhtml);
                }
                if( postType == 'Event' )
                {
                    console.log('Event');
                    jQuery('#divEventList').append(constructedhtml);
                }
            }
        });
    });
}
</script>
</body>
</html>